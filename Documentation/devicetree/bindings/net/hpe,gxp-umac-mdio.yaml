# SPDX-License-Identifier: GPL-2.0-only OR BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/net/hpe,gxp-umac-mdio.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: HPE GXP UMAC MDIO INTERFACE

maintainers:
  - Nick Hawkins <nick.hawkins@hpe.com>
  - Jean-Marie Verdun <verdun@hpe.com>

properties:
  compatible: 
    const: hpe,gxp-umac-mdio

  '#address-cells':
    const: 1

  '#size-cells':
    const: 0

  reg:
    maxItems: 1

  ethernet-phy@0:
    type: object
    properties:
      compatible:
        const: ethernet-phy-ieee802.3-c22
      phy-mode:
        description: Current mode of the phy.
      reg:
        maxItems: 1

required:
  - compatible
  - reg
  - '#address-cells'
  - '#size-cells'

additionalProperties: false

examples:
  - |
    mdio0: mdio@c0004080 {
      compatible = "hpe,gxp-umac-mdio";
      reg = <0xc0004080 0x10>;
      #address-cells = <1>;
      #size-cells = <0>;
      ext_phy0: ethernet-phy@0 {
        compatible = "ethernet-phy-ieee802.3-c22";
        phy-mode = "sgmii";
        reg = <0>;
      };
    };
